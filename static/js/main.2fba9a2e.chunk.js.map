{"version":3,"sources":["pages/main/Intro/Intro.module.scss","pages/main/Stage/Touch/Picked/Picked.module.scss","pages/main/Main.module.scss","pages/main/Stage/Aim/Aim.module.scss","pages/main/Stage/Stage.module.scss","pages/about/About.module.scss","pages/main/Intro/Intro.tsx","pages/main/Intro/index.ts","helpers/util.ts","pages/main/Stage/stage.reducer.ts","hooks/useHandle.ts","pages/main/Stage/Touch/Picked/Picked.tsx","pages/main/Stage/Touch/Picked/index.ts","pages/main/Stage/Touch/Touch.tsx","pages/main/Stage/Touch/index.ts","pages/main/Stage/Aim/Aim.tsx","pages/main/Stage/Aim/index.ts","pages/main/Stage/Stage.tsx","pages/main/Main.tsx","pages/main/Stage/index.ts","pages/main/index.ts","pages/about/index.ts","pages/about/About.tsx","components/Layout/index.ts","components/Layout/Layout.tsx","pages/index.tsx","store/app.store.ts","store/reducers.ts","store/createStore.ts","App.tsx","serviceWorker.ts","index.tsx","pages/main/Stage/Touch/Touch.module.scss"],"names":["module","exports","Intro","moveToStage","moveToStage_debug","className","styles","root","onClick","style","alignItems","color","getColor","allColors","a","i","length","j","Math","floor","random","shuffle","colors","index","initialState","pickedId","masterId","touches","_touches","MIN_DISTANCE","MAX_DISTANCE","touch","createAction","eventType","changedTouches","pick","targetId","reducer","draft","action","type","payload","now","Date","valueOf","Object","entries","forEach","k","v","end","id","x","y","start","_x","_y","_min_x","_max_x","_min_y","_max_y","_dist","sqrt","pow","values","find","availTouches","filter","e","get","isPicked","useStageReducer","data","useImmerReducer","state","dispatch","useMemo","sort","b","useHandle","callback","handle","useRef","current","useCallback","args","Picked","props","useWindowSize","width","height","size","radius","max","ref","useEffect","strokeWidth","top","left","xmlns","version","viewBox","cx","cy","r","focus","stroke","Touch","master","debug","useState","ready","setReady","hidden","circle_wrap","animate","picked","circle","arc","arc_bg","inner","fill","Aim","onTargetChange","rifle","stretch","p","atob","len","distance","t","min","_anchor","_distance","abs","targets","map","canvas","ctx","getContext","clearRect","m","moveTo","lineTo","lineWidth","strokeStyle","setLineDash","beginPath","PI","SIZE","Stage","Mode","moveToIntro","handleTouch","event","nativeEvent","Array","from","identifier","pageX","pageY","availHash","join","setTargetId","handleTargetChange","handlePick","timer","setTimeout","clearTimeout","preventDefault","addEventListener","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","key","Main","intro","mode","setMode","Current","window","scrollTo","stage","stage_debug","About","Layout","children","pages","name","path","Component","Routes","routes","exact","render","routeProps","to","handleActions","produce","count","combineReducers","app","persistReducer","storage","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","err","enhancer","store","createStore","reducers","persistor","persistStore","App","loading","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.2fba9a2e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Intro_root__D-sNr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Picked_root__R2qM4\",\"focus\":\"Picked_focus__16AXP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Main_root__OVCeA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Aim_root__1DOrK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Stage_root__jNgoC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"About_root__3rHTE\"};","import * as React from 'react';\nimport styles from './Intro.module.scss';\n\nfunction Intro({ moveToStage, moveToStage_debug }: any) {\n  return (\n    <>\n      <div className={styles.root}>\n        <h1 onClick={moveToStage}>Tab Roulette</h1>\n      </div>\n      <div className={styles.root} style={{ alignItems: 'flex-end' }}>\n        <h1\n          onClick={moveToStage_debug}\n          style={{ color: 'rgba(255,255,255,0.1)' }}\n        >\n          Debug\n        </h1>\n      </div>\n    </>\n  );\n}\n\nexport default Intro;\n","import Intro from './Intro';\n\nexport default Intro;\n","import { schemeCategory10 as colors } from 'd3-scale-chromatic';\n\nconst getColor = (() => {\n  const allColors = shuffle([...colors]);\n  let index = 0;\n  return () => allColors[index++ % allColors.length];\n})();\n\nfunction shuffle(a: any[]) {\n  for (let i = a.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [a[i], a[j]] = [a[j], a[i]];\n  }\n  return a;\n}\n\nexport { getColor };\n","import { createAction } from 'redux-actions';\nimport { useImmerReducer } from 'use-immer';\nimport { get } from 'lodash-es';\nimport { getColor } from '../../../helpers/util';\nimport { useMemo } from 'react';\n\nconst initialState = {\n  pickedId: null,\n  masterId: null,\n  touches: [\n    // {\n    //   id: 0,\n    //   x: 250,\n    //   y: 100,\n    //   _x: 255,\n    //   _y: 185,\n    //   _dist: 25,\n    //   color: '#222',\n    // },\n    // { id: 1, x: 120, y: 200, color: '#222' },\n    // { id: 2, x: 420, y: 200, color: '#222' },\n  ],\n  _touches: {\n    // 0: { id: 0, x: 50, y: 100, color: '#222' },\n    // 1: { id: 1, x: 120, y: 300, color: '#222' },\n  },\n};\n\nconst TOUCH = 'stage/TOUCH';\nconst PICK = 'stage/PICK';\n\nconst MIN_DISTANCE = 10;\nconst MAX_DISTANCE = 200;\n\nexport const touch = createAction(\n  TOUCH,\n  (eventType: string, changedTouches: any[]) => ({ eventType, changedTouches }),\n);\n\nexport const pick = createAction(PICK, (targetId: string | null) => ({\n  targetId,\n}));\n\nconst timestamp = () => new Date().valueOf();\n\nconst reducer = (draft: any, action: any) => {\n  const { type, payload } = action;\n  switch (type) {\n    case TOUCH: {\n      const now = timestamp();\n      const { eventType, changedTouches } = payload;\n      Object.entries(draft._touches).forEach(([k, v]: any) => {\n        if (v.end && v.end + 2000 < now) {\n          delete draft._touches[k];\n        }\n      });\n      if (eventType === 'touchstart') {\n        changedTouches.forEach(([id, x, y]: any) => {\n          draft._touches[id] = {\n            id,\n            color: getColor(),\n            x,\n            y,\n            start: now,\n            _x: x,\n            _y: y,\n            _min_x: x,\n            _max_x: x,\n            _min_y: y,\n            _max_y: y,\n            _dist: 0,\n          };\n        });\n      } else if (eventType === 'touchmove') {\n        changedTouches.forEach(([id, x, y]: any) => {\n          if (draft._touches[id]) {\n            draft._touches[id].x = x;\n            draft._touches[id].y = y;\n            if (draft._touches[id]._min_x > x) draft._touches[id]._min_x = x;\n            if (draft._touches[id]._max_x < x) draft._touches[id]._max_x = x;\n            if (draft._touches[id]._min_y > y) draft._touches[id]._min_y = y;\n            if (draft._touches[id]._max_y < y) draft._touches[id]._max_y = y;\n            draft._touches[id]._dist = Math.sqrt(\n              Math.pow(\n                draft._touches[id]._max_x - draft._touches[id]._min_x,\n                2,\n              ) +\n                Math.pow(\n                  draft._touches[id]._max_y - draft._touches[id]._min_y,\n                  2,\n                ),\n            );\n          }\n        });\n      } else {\n        changedTouches.forEach(([id, x, y]: any) => {\n          if (draft._touches[id]) {\n            draft._touches[id].end = now;\n          }\n        });\n      }\n      draft.touches = Object.values(draft._touches);\n\n      if (\n        !draft.touches.find(({ id, end }: any) => id === draft.pickedId && !end)\n      ) {\n        draft.pickedId = null;\n      }\n      return;\n    }\n    case PICK: {\n      draft.touches = Object.values(draft._touches);\n      const availTouches = draft.touches.filter(({ end }: any) => !end);\n      if (draft.pickedId === null && availTouches.length > 1) {\n        if (availTouches.find((e: any) => e.id === payload.targetId)) {\n          draft.pickedId = payload.targetId;\n        } else {\n          draft.pickedId = get(availTouches, [\n            ~~(Math.random() * availTouches.length),\n            'id',\n          ]);\n        }\n        draft.touches.forEach((e: any) => {\n          if (e.id === draft.pickedId) {\n            e.isPicked = true;\n          } else {\n            delete e.isPicked;\n          }\n        });\n      }\n      return;\n    }\n  }\n};\n\nfunction useStageReducer(data?: any) {\n  const [state, dispatch] = useImmerReducer(reducer, data || initialState);\n\n  const masterId = useMemo(() => {\n    return get(\n      [\n        ...state.touches.filter(\n          ({ end, _dist }: any) =>\n            !end && MIN_DISTANCE < _dist && _dist < MAX_DISTANCE,\n        ),\n      ].sort((a: any, b: any) => {\n        if (a._dist === b._dist) {\n          return 0;\n        }\n        return a._dist < b._dist ? 1 : -1;\n      }),\n      [0, 'id'],\n      null,\n    );\n  }, [state.touches]);\n\n  return [\n    {\n      ...state,\n      masterId,\n    },\n    dispatch,\n  ];\n}\n\nexport default useStageReducer;\n","import { useCallback, useRef } from 'react';\n\nfunction useHandle(callback?: Function) {\n  const handle = useRef<Function>();\n  handle.current = callback;\n  return useCallback((e: any, ...args: any[]) => {\n    if (typeof handle.current === 'function') {\n      return handle.current(e, ...args);\n    }\n  }, []);\n}\n\nexport default useHandle;\n","import React, { useEffect, useMemo, useRef } from 'react';\nimport { useWindowSize } from 'react-use';\nimport styles from './Picked.module.scss';\n\nfunction Picked(props: any) {\n  const { width, height } = useWindowSize();\n  const { color, x, y, end, size } = props;\n\n  const radius = useMemo(() => Math.max(width, height), [width, height]);\n\n  const ref = useRef<any>();\n\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.style.strokeWidth = end ? 0 : `${radius * 2 - (size + 50)}px`;\n    }\n  }, [radius, end, size]);\n\n  return (\n    <div\n      className={styles.root}\n      style={{\n        top: -height + y,\n        left: -width + x,\n      }}\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width={width * 2}\n        height={height * 2}\n        viewBox={`0 0 ${width * 2} ${height * 2}`}\n      >\n        <circle\n          cx={width}\n          cy={height}\n          r={radius}\n          ref={ref}\n          className={styles.focus}\n          stroke={color}\n          strokeWidth={0}\n        />\n      </svg>\n    </div>\n  );\n}\n\nexport default Picked;\n","import Picked from './Picked';\n\nexport default Picked;\n","import React, { useEffect, useState } from 'react';\nimport cx from 'classnames';\nimport Picked from './Picked';\nimport styles from './Touch.module.scss';\n\nfunction Touch(props: any) {\n  const {\n    id,\n    x,\n    y,\n    color,\n    end,\n    pickedId,\n    isPicked,\n    master,\n    size,\n    debug,\n  } = props;\n\n  const [ready, setReady] = useState(false);\n  useEffect(() => setReady(true), []);\n\n  const hidden = (pickedId && pickedId !== id) || end;\n  return (\n    <>\n      {isPicked && <Picked {...props} size={size} />}\n      <div\n        className={cx(\n          styles.circle_wrap,\n          ready && styles.ready,\n          hidden && styles.end,\n          !hidden && styles.animate,\n          isPicked && styles.picked,\n        )}\n        style={{ top: y - size / 2, left: x - size / 2 }}\n      >\n        <div className={cx(styles.circle, debug && master && styles.master)}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            version=\"1.1\"\n            width={size}\n            height={size}\n            viewBox=\"0 0 140 140\"\n          >\n            {ready && (\n              <>\n                <circle\n                  cx=\"70\"\n                  cy=\"70\"\n                  r=\"52.5\"\n                  stroke={color}\n                  className={styles.arc}\n                />\n                <circle\n                  cx=\"70\"\n                  cy=\"70\"\n                  r=\"52.5\"\n                  stroke={color}\n                  className={styles.arc_bg}\n                />\n              </>\n            )}\n            <circle\n              className={styles.inner}\n              cx=\"70\"\n              cy=\"70\"\n              r=\"35\"\n              fill={color}\n            />\n          </svg>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Touch;\n","import Touch from './Touch';\n\nexport default Touch;\n","import React, { useEffect, useMemo, useRef } from 'react';\nimport { useWindowSize } from 'react-use';\nimport { get } from 'lodash-es';\nimport styles from './Aim.module.scss';\n\nfunction Aim({ touches, masterId, size, onTargetChange, debug }: any) {\n  const { width, height } = useWindowSize();\n\n  const master = useMemo(() => touches.find(({ id }: any) => id === masterId), [\n    touches,\n    masterId,\n  ]);\n\n  const rifle = useMemo(() => {\n    if (master) {\n      const stretch = Math.max(width, height);\n      const a = { x: width / 2, y: height / 2 };\n      const b = {\n        x: a.x + (master.x - master._x) * stretch,\n        y: a.y + (master.y - master._y) * stretch,\n      };\n      return (p: any) => {\n        const atob = { x: b.x - a.x, y: b.y - a.y };\n        const atop = { x: p.x - a.x, y: p.y - a.y };\n        const len = atob.x * atob.x + atob.y * atob.y;\n        let distance = atop.x * atob.x + atop.y * atob.y;\n        const t = Math.min(1, Math.max(0, distance / len));\n        distance = (b.x - a.x) * (p.y - a.y) - (b.y - a.y) * (p.x - a.x);\n        return t > 0\n          ? {\n              _anchor: { x: a.x + atob.x * t, y: a.y + atob.y * t },\n              _distance: ~~Math.sqrt(~~Math.abs(distance)),\n            }\n          : {};\n      };\n    }\n    return () => {};\n  }, [width, height, master]);\n\n  const ref = useRef<any>();\n\n  const [targetId, targets] = useMemo(() => {\n    const targets = touches\n      .map((e: any) => ({ ...e, ...rifle({ x: e.x, y: e.y }) }))\n      .filter((e: any) => e._anchor && !e.end)\n      .sort((a: any, b: any) =>\n        a._distance === b._distance ? 0 : a._distance > b._distance ? 1 : -1,\n      );\n\n    return [get(targets, [0, 'id'], null), targets];\n  }, [rifle, touches]);\n\n  useEffect(() => {\n    onTargetChange(targetId);\n  }, [onTargetChange, targetId]);\n\n  useEffect(() => {\n    if (ref.current) {\n      const canvas = ref.current;\n      canvas.width = width;\n      canvas.height = height;\n      const ctx = canvas.getContext('2d');\n      ctx.clearRect(0, 0, width, height);\n      if (debug && master) {\n        const cx = width / 2;\n        const cy = height / 2;\n        const x = master.x - master._x;\n        const y = master.y - master._y;\n        const m = Math.max(width, height);\n        ctx.moveTo(cx, cy);\n        ctx.lineTo(cx + x * m, cy + y * m);\n        ctx.lineWidth = 4;\n        ctx.strokeStyle = '#fff';\n        ctx.setLineDash([6, 6]);\n        ctx.stroke();\n\n        targets.forEach(({ x, y, _anchor, _distance }: any, i: number) => {\n          ctx.beginPath();\n          ctx.moveTo(x, y);\n          ctx.lineTo(_anchor.x, _anchor.y);\n          ctx.lineWidth = 4;\n          ctx.setLineDash([6, 6]);\n          ctx.strokeStyle = i === 0 ? 'red' : '#fff';\n          ctx.stroke();\n          if (i === 0) {\n            ctx.beginPath();\n            ctx.arc(x, y, size / 2 + 4, 0, 2 * Math.PI);\n            ctx.stroke();\n          }\n          // ctx.lineWidth = 1;\n          // ctx.font = '20px Monaco, Consolas';\n          // // ctx.setLineDash([0, 0]);\n          // ctx.fillStyle = '#fff';\n          // ctx.textAlign = 'center';\n          // ctx.fillText(_distance, x, y - size / 2 - 16);\n        });\n      }\n    }\n  }, [debug, width, height, master, targets, size]);\n\n  return (\n    <div className={styles.root}>\n      <canvas ref={ref} />\n    </div>\n  );\n}\n\nexport default Aim;\n","import Aim from './Aim';\n\nexport default Aim;\n","import React, {\n  useEffect,\n  useMemo,\n  useState,\n  useRef,\n  SyntheticEvent,\n} from 'react';\nimport useStageReducer, { touch, pick } from './stage.reducer';\nimport { useHandle } from '../../../hooks';\nimport Touch from './Touch';\nimport Aim from './Aim';\nimport styles from './Stage.module.scss';\n\nconst SIZE = 150;\n\nfunction Stage({ moveToIntro, debug }: any) {\n  const [{ touches, pickedId, masterId }, dispatch] = useStageReducer();\n\n  const handleTouch = useHandle(\n    (event: SyntheticEvent<HTMLDivElement, TouchEvent>) => {\n      dispatch(\n        touch(\n          event.nativeEvent.type,\n          Array.from(event.nativeEvent.changedTouches).map((touch: Touch) => [\n            touch.identifier,\n            touch.pageX,\n            touch.pageY,\n          ]),\n        ),\n      );\n    },\n  );\n\n  const availHash = useMemo(\n    () =>\n      touches\n        .filter(({ end }: any) => !end)\n        .map(({ id }: any) => id)\n        .join(','),\n    [touches],\n  );\n\n  const [targetId, setTargetId] = useState(null);\n  const handleTargetChange = useHandle(setTargetId);\n\n  const handlePick = useHandle(() => dispatch(pick(targetId)));\n\n  useEffect(() => {\n    const timer = setTimeout(handlePick, 2500);\n    return () => clearTimeout(timer);\n  }, [availHash, handlePick]);\n\n  const ref = useRef<any>();\n  useEffect(() => {\n    if (ref.current) {\n      const preventDefault = (event: any) => event.preventDefault();\n      ref.current.addEventListener('touchstart', preventDefault);\n      ref.current.addEventListener('touchmove', preventDefault);\n    }\n  }, []);\n\n  return (\n    <div ref={ref}>\n      <div\n        className={styles.root}\n        onTouchStart={handleTouch}\n        onTouchMove={handleTouch}\n        onTouchEnd={handleTouch}\n        onTouchCancel={handleTouch}\n      >\n        {touches.map((touch: any) => (\n          <Touch\n            key={touch.id}\n            {...touch}\n            pickedId={pickedId}\n            master={masterId === touch.id}\n            size={SIZE}\n            debug={debug}\n          />\n        ))}\n        <Aim\n          touches={touches}\n          masterId={masterId}\n          size={SIZE}\n          onTargetChange={handleTargetChange}\n          debug={debug}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Stage;\n","import React, { useMemo, useState } from 'react';\nimport styles from './Main.module.scss';\nimport Intro from './Intro';\nimport Stage from './Stage';\n\nexport const uriPattern = '/';\n\nenum Mode {\n  intro = 'intro',\n  stage = 'stage',\n  stage_debug = 'stage_debug',\n}\n\nconst Main: React.FC = () => {\n  const [mode, setMode] = useState(Mode.intro);\n\n  const Current = useMemo(() => {\n    window.scrollTo(0, 0);\n    switch (mode) {\n      case Mode.intro:\n        return Intro;\n      case Mode.stage:\n        return Stage;\n      case Mode.stage_debug:\n        return () => <Stage debug={true} />;\n      default:\n        return () => null;\n    }\n  }, [mode]);\n\n  const moveTo = useMemo(\n    () => ({\n      moveToIntro: () => setMode(Mode.intro),\n      moveToStage: () => setMode(Mode.stage),\n      moveToStage_debug: () => setMode(Mode.stage_debug),\n    }),\n    [setMode],\n  );\n\n  return (\n    <div className={styles.root}>\n      <Current {...moveTo} />\n    </div>\n  );\n};\n\nexport default Main;\n","import Stage from './Stage';\n\nexport default Stage;\n","import Main, { uriPattern } from './Main';\n\nexport default Main;\nexport { uriPattern };\n","import About, { uriPattern } from './About';\n\nexport default About;\nexport { uriPattern };\n","import React from 'react';\nimport styles from './About.module.scss';\n\nexport const uriPattern = '/about';\n\nconst About: React.FC = (props: any) => {\n  return (\n    <div className={styles.root}>\n      <h1>About</h1>\n    </div>\n  );\n};\n\nexport default About;\n","import Layout from './Layout';\n\nexport default Layout;\n","import React from 'react';\nimport styles from './Layout.module.scss';\n\nconst Layout: React.FC = (props: any) => {\n  return <div className={styles.root}>{props.children}</div>;\n};\n\nexport default Layout;\n","import * as React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport Main, { uriPattern as main_path } from './main';\nimport About, { uriPattern as about_path } from './about';\nimport Layout from '../components/Layout';\n\nconst pages = [\n  {\n    name: 'Main',\n    path: main_path,\n    Component: Main,\n  },\n  {\n    name: 'About',\n    path: about_path,\n    Component: About,\n  },\n];\n\nconst REDIRECT_URI = main_path;\n\nconst Routes = (() => {\n  const routes = [\n    ...pages.map(({ exact, path, Component }: any, i) => (\n      <Route\n        key={`route-${i}`}\n        exact={!!exact}\n        path={path}\n        render={(routeProps: any) => <Component {...routeProps} />}\n      />\n    )),\n    <Redirect key=\"redirect-to-default\" to={REDIRECT_URI} />,\n  ];\n  return () => (\n    <Layout>\n      <Switch>{routes}</Switch>\n    </Layout>\n  );\n})();\n\nexport default pages;\n\nexport { Routes };\n","import { createAction, handleActions } from 'redux-actions';\nimport produce from 'immer';\n\nconst initialState = {\n  count: 0,\n} as {\n  count: number;\n};\n\nconst INCREASE = 'app/INCREASE';\n\nexport const increase = createAction(INCREASE, () => null);\n\nexport default handleActions(\n  {\n    [INCREASE]: (state, { payload }) =>\n      produce(state, (draft) => {\n        draft.count++;\n      }),\n  },\n  initialState,\n);\n","import { combineReducers } from 'redux';\nimport { persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport app from './app.store';\n\nexport default combineReducers({\n  app: persistReducer({ key: 'app', storage }, app),\n});\n","import { createStore, compose } from 'redux';\nimport { persistStore } from 'redux-persist';\nimport reducers from './reducers';\n\nexport default (initialState?: any) => {\n  let composeEnhancers: any;\n  try {\n    // @ts-ignore\n    composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  } catch (err) {\n    composeEnhancers = compose;\n  }\n  const enhancer = composeEnhancers();\n\n  const store: any = createStore(reducers, initialState, enhancer);\n\n  const persistor = persistStore(store);\n\n  return { store, persistor };\n};\n","import React from 'react';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { Routes } from './pages';\nimport createStore from './store/createStore';\n\nconst { store, persistor } = createStore();\n\nconst App: React.FC = () => {\n  return (\n    <Provider store={store}>\n      <PersistGate persistor={persistor} loading={null}>\n        <Router>\n          <Routes />\n        </Router>\n      </PersistGate>\n    </Provider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"circle_wrap\":\"Touch_circle_wrap__bYmci\",\"ready\":\"Touch_ready__3T9o7\",\"end\":\"Touch_end__3Kqx2\",\"picked\":\"Touch_picked__2aXKt\",\"animate\":\"Touch_animate__1dHWO\",\"breath\":\"Touch_breath__3zong\",\"circle\":\"Touch_circle__27J8m\",\"outer\":\"Touch_outer__2Af_C\",\"master\":\"Touch_master__IS2-1\",\"inner\":\"Touch_inner__2kcO-\",\"arc\":\"Touch_arc__2d-we\",\"arc_bg\":\"Touch_arc_bg__2KWQH\"};"],"sourceRoot":""}