(this["webpackJsonpfraud-roulette"]=this["webpackJsonpfraud-roulette"]||[]).push([[0],{25:function(e,t,n){e.exports={root:"Picked_root__R2qM4",focus:"Picked_focus__16AXP"}},31:function(e,t,n){e.exports={root:"Main_root__OVCeA"}},32:function(e,t,n){e.exports={root:"Intro_root__D-sNr"}},35:function(e,t,n){e.exports={root:"Stage_root__jNgoC"}},36:function(e,t,n){e.exports={root:"About_root__3rHTE"}},37:function(e,t,n){e.exports={root:"Layout_root__KuT-s"}},43:function(e,t,n){e.exports=n(58)},48:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(17),o=n.n(a),u=(n(48),n(22)),i=n(41),s=n(30),l=n(13),_=n(11),d=n(8),f=n(31),h=n.n(f),m=n(32),v=n.n(m);var p=function(e){return e.moveToStage,r.createElement("div",{className:v.a.root},r.createElement("h1",null,"Roulette"))},b=n(66),E=n(33),O=n(62),g=n(65),j=function(){var e=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}(Object(l.a)(g.a)),t=0;return function(){return e[t++%e.length]}}();var x={pickedId:null,masterId:null,touches:[],_touches:{}},y=Object(b.a)("stage/TOUCH",(function(e,t){return{eventType:e,changedTouches:t}})),T=Object(b.a)("stage/PICK",(function(){return null})),w=function(e,t){var n=t.type,r=t.payload;switch(n){case"stage/TOUCH":var c=(new Date).valueOf(),a=r.eventType,o=r.changedTouches;return Object.entries(e._touches).forEach((function(t){var n=Object(d.a)(t,2),r=n[0],a=n[1];a.end&&a.end+2e3<c&&delete e._touches[r]})),"touchstart"===a?o.forEach((function(t){var n=Object(d.a)(t,3),r=n[0],a=n[1],o=n[2];e._touches[r]={id:r,color:j(),x:a,y:o,start:c,_x:a,_y:o,_min_x:a,_max_x:a,_min_y:o,_max_y:o,_dist:0}})):"touchmove"===a?o.forEach((function(t){var n=Object(d.a)(t,3),r=n[0],c=n[1],a=n[2];e._touches[r]&&(e._touches[r].x=c,e._touches[r].y=a,e._touches[r]._min_x>c&&(e._touches[r]._min_x=c),e._touches[r]._max_x<c&&(e._touches[r]._max_x=c),e._touches[r]._min_y>a&&(e._touches[r]._min_y=a),e._touches[r]._max_y<a&&(e._touches[r]._max_y=a),e._touches[r]._dist=Math.sqrt(Math.pow(e._touches[r]._max_x-e._touches[r]._min_x,2)+Math.pow(e._touches[r]._max_y-e._touches[r]._min_y,2)))})):o.forEach((function(t){var n=Object(d.a)(t,3),r=n[0];n[1],n[2];e._touches[r]&&(e._touches[r].end=c)})),e.touches=Object.values(e._touches),e.masterId=Object(O.a)(Object(l.a)(e.touches.filter((function(e){var t=e.end,n=e._dist;return!t&&10<n&&n<200}))).sort((function(e,t){return e._dist===t._dist?0:e._dist<t._dist?1:-1})),[0,"id"],null),void(e.touches.find((function(t){var n=t.id,r=t.end;return n===e.pickedId&&!r}))||(e.pickedId=null));case"stage/PICK":e.touches=Object.values(e._touches);var u=e.touches.filter((function(e){return!e.end}));return void(null===e.pickedId&&u.length>1&&(e.pickedId=Object(O.a)(u,[~~(Math.random()*u.length),"id"]),e.touches.forEach((function(t){t.id===e.pickedId?t.isPicked=!0:delete t.isPicked}))))}};var k=function(e){return Object(E.a)(w,e||x)};var I=function(e){var t=Object(r.useRef)();return t.current=e,Object(r.useCallback)((function(e){if("function"===typeof t.current){for(var n=arguments.length,r=new Array(n>1?n-1:0),c=1;c<n;c++)r[c-1]=arguments[c];return t.current.apply(t,[e].concat(r))}}),[])},N=n(24),M=n.n(N),C=n(64),S=n(25),A=n.n(S);var P=function(e){var t=Object(C.a)(),n=t.width,a=t.height,o=e.color,u=e.x,i=e.y,s=e.end,l=e.size,_=Object(r.useMemo)((function(){return Math.max(n,a)}),[n,a]),d=Object(r.useRef)();return Object(r.useEffect)((function(){d.current&&(d.current.style.strokeWidth=s?0:"".concat(2*_-(l+50),"px"))}),[_,s,l]),c.a.createElement("div",{className:A.a.root,style:{top:-a+i,left:-n+u}},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:2*n,height:2*a,viewBox:"0 0 ".concat(2*n," ").concat(2*a)},c.a.createElement("circle",{cx:n,cy:a,r:_,ref:d,className:A.a.focus,stroke:o,strokeWidth:0})))},R=n(9),K=n.n(R),W=150;var D=function(e){var t=e.id,n=e.x,a=e.y,o=e.color,u=e.end,i=e.pickedId,s=e.isPicked,l=e.master,_=Object(r.useState)(!1),f=Object(d.a)(_,2),h=f[0],m=f[1];Object(r.useEffect)((function(){return m(!0)}),[]);var v=i&&i!==t||u;return c.a.createElement(c.a.Fragment,null,s&&c.a.createElement(P,Object.assign({},e,{size:W})),c.a.createElement("div",{className:M()(K.a.circle_wrap,h&&K.a.ready,v&&K.a.end,!v&&K.a.animate,s&&K.a.picked),style:{top:a-W/2,left:n-W/2}},c.a.createElement("div",{className:M()(K.a.circle,l&&K.a.master)},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:W,height:W,viewBox:"0 0 140 140"},h&&c.a.createElement(c.a.Fragment,null,c.a.createElement("circle",{cx:"70",cy:"70",r:"52.5",stroke:o,className:K.a.arc}),c.a.createElement("circle",{cx:"70",cy:"70",r:"52.5",stroke:o,className:K.a.arc_bg})),c.a.createElement("circle",{className:K.a.inner,cx:"70",cy:"70",r:"35",fill:o})))))},H=n(35),X=n.n(H);var B,L=function(e){e.moveToIntro;var t=k(),n=Object(d.a)(t,2),a=n[0],o=a.touches,u=a.pickedId,i=a.masterId,s=n[1],l=I((function(e){s(y(e.nativeEvent.type,Array.from(e.nativeEvent.changedTouches).map((function(e){return[e.identifier,e.pageX,e.pageY]}))))})),_=Object(r.useMemo)((function(){return o.filter((function(e){return!e.end})).map((function(e){return e.id})).join(",")}),[o]),f=I((function(){return s(T())}));return Object(r.useEffect)((function(){var e=setTimeout(f,2e3);return function(){return clearTimeout(e)}}),[_,f]),c.a.createElement("div",{className:X.a.root,onTouchStart:l,onTouchMove:l,onTouchEnd:l,onTouchCancel:l},o.map((function(e){return c.a.createElement(D,Object.assign({key:e.id},e,{pickedId:u,master:i===e.id}))})))};!function(e){e.intro="intro",e.stage="stage"}(B||(B={}));var q=function(){var e=Object(r.useState)(B.stage),t=Object(d.a)(e,2),n=t[0],a=t[1],o=Object(r.useMemo)((function(){switch(n){case B.intro:return p;case B.stage:return L;default:return function(){return null}}}),[n]),u=Object(r.useMemo)((function(){return{moveToIntro:function(){return a(B.intro)},moveToStage:function(){return a(B.stage)}}}),[a]);return c.a.createElement("div",{className:h.a.root},c.a.createElement(o,u))},z=n(36),J=n.n(z),U=function(e){return c.a.createElement("div",{className:J.a.root},c.a.createElement("h1",null,"About"))},F=n(37),V=n.n(F),Y=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){if(t.current){var e=function(e){return e.preventDefault()};t.current.addEventListener("touchstart",e),t.current.addEventListener("touchmove",e)}}),[]),c.a.createElement("div",{ref:t,className:V.a.root},e.children)},Q=[{name:"Main",path:"/",Component:q},{name:"About",path:"/about",Component:U}],$=function(){var e=[].concat(Object(l.a)(Q.map((function(e,t){var n=e.exact,c=e.path,a=e.Component;return r.createElement(_.b,{key:"route-".concat(t),exact:!!n,path:c,render:function(e){return r.createElement(a,e)}})}))),[r.createElement(_.a,{key:"redirect-to-default",to:"/"})]);return function(){return r.createElement(Y,null,r.createElement(_.d,null,e))}}(),G=n(5),Z=n(19),ee=n(39),te=n.n(ee),ne=n(40),re=n(63),ce=n(16),ae=(Object(b.a)("app/INCREASE",(function(){return null})),Object(re.a)(Object(ne.a)({},"app/INCREASE",(function(e,t){t.payload;return Object(ce.a)(e,(function(e){e.count++}))})),{count:0})),oe=Object(G.b)({app:Object(Z.a)({key:"app",storage:te.a},ae)}),ue=function(e){var t;try{t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.c}catch(c){t=G.c}var n=t(),r=Object(G.d)(oe,e,n);return{store:r,persistor:Object(Z.b)(r)}}(),ie=ue.store,se=ue.persistor,le=function(){return c.a.createElement(i.a,{store:ie},c.a.createElement(s.a,{persistor:se,loading:null},c.a.createElement(u.a,null,c.a.createElement($,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,n){e.exports={circle_wrap:"Touch_circle_wrap__bYmci",ready:"Touch_ready__3T9o7",end:"Touch_end__3Kqx2",picked:"Touch_picked__2aXKt",animate:"Touch_animate__1dHWO",breath:"Touch_breath__3zong",circle:"Touch_circle__27J8m",outer:"Touch_outer__2Af_C",master:"Touch_master__IS2-1",inner:"Touch_inner__2kcO-",arc:"Touch_arc__2d-we",arc_bg:"Touch_arc_bg__2KWQH"}}},[[43,1,2]]]);
//# sourceMappingURL=main.5cd6b6ca.chunk.js.map